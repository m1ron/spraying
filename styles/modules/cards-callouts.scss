.cards-callouts {
    margin: 3rem 0;
    position: relative;
    z-index: 1;
    font: 16px/1.5 $font-default;
    @include media-breakpoint-up(md) {
        margin: 6rem 0;
    }
    @include media-breakpoint-up(xl) {
        margin: 9rem 0;
    }

    &.light-gray {
        padding: 3rem 0;
        margin: 0;
        @include media-breakpoint-up(md) {
            padding: 6rem 0;
        }
        @include media-breakpoint-up(xl) {
            padding: 9rem 0;
        }

        &::after {
            @include pseudo;
            position: absolute;
            top: 0;
            right: -16px;
            bottom: 0;
            left: -16px;
            z-index: -1;
            background-color: $color-maui;
            @include media-breakpoint-up(md) {
                right: -20px;
                left: -20px;
            }
            @include media-breakpoint-up(xl) {
                width: 100vw;
                right: auto;
                left: 50%;
                transform: translateX(-50%);
            }
        }
    }

    .section-header {
        margin-bottom: 3rem;
        @include media-breakpoint-up(xl) {
            margin-bottom: 41px;
        }

        small {
            margin-bottom: 8px;
            display: block;
            font-size: 14px;
            line-height: 120%;
            font-weight: 500;
            text-transform: uppercase;
            letter-spacing: .05em;
            color: $color-led-blue;
            @include media-breakpoint-up(md) {
                margin-bottom: 12px;
                font-size: 15px;
            }
            @include media-breakpoint-up(xl) {
                margin-bottom: 20px;
                font-size: 16px;
            }
        }

        h2 {
            margin: 0;
            font-size: 24px;
            line-height: 28px;
            font-weight: bold;
            letter-spacing: -.0175em;
            color: $color-night;
            @include media-breakpoint-up(xl) {
                font-size: 28px;
                line-height: 32.8px;
            }
        }

        br {display: none;}

        > p:last-child {margin-bottom: 0;}
    }


    &-wrapper {
        h2 {
            text-align: center;
            padding-bottom: 2.5rem;
            @include media-breakpoint-up(md) {
                padding-bottom: .4rem;
            }
        }

        &.alt-padding {
            padding-top: 3rem;
            @include media-breakpoint-up(md) {
                padding-top: 5.5rem;
            }
            @include media-breakpoint-up(lg) {
                padding-bottom: 8rem;
            }
        }
    }

    &-grid {
        .generic-grid {
            display: flex;
            flex-direction: column;
            gap: 24px;
            @include media-breakpoint-up(md) {
                flex-direction: row;
                gap: 24px;
            }
        }

        &.divider {
            border-bottom: 2px dotted rgba(63, 96, 116, .2);
            margin-bottom: 3rem;
            @include media-breakpoint-up(md) {
                padding-bottom: 3rem;
                margin-bottom: 0;
            }
        }

        &-item {
            border-radius: 4px;
            text-align: left;
            background: $color-white;
            box-shadow: 0 20px 50px -5px rgba($spray-dk-blue-gray, .15);

            &.generic-grid-item.quarter-width {
                @include media-breakpoint-up(md) {
                    width: calc(50% - 12px);
                }
                @include media-breakpoint-up(lg) {
                    width: calc(33.3% - 16px);
                }
                @include media-breakpoint-up(xl) {
                    width: calc(25% - 18px);
                }
            }


            > a {
                position: relative;
                display: block;
                text-decoration: none;
                outline: none;

                &[data-fancybox="data-fancybox"] {
                    .cards-callouts-grid-item-image {
                        &::before {
                            @include pseudo;
                            position: absolute;
                            top: 0;
                            right: 0;
                            bottom: 0;
                            left: 0;
                            z-index: 5;
                            background: rgba($color-night, .25);
                            opacity: 1;
                            transition: opacity $effect;
                        }
                        &::after {
                            @include pseudo;
                            width: 70px;
                            height: 46px;
                            margin: auto;
                            position: absolute;
                            top: 0;
                            right: 0;
                            bottom: 0;
                            left: 0;
                            z-index: 5;
                            opacity: .95;
                            transition: opacity $effect;
                            background: url("data:image/svg+xml,%3Csvg width='70' height='46' viewBox='0 0 70 46' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M69.9922 24.2826C69.9727 25.8709 69.917 27.4422 69.825 28.9964C69.7083 30.6393 69.5479 32.3643 69.3438 34.1714C69.1396 35.9786 68.8625 37.5119 68.5125 38.7714C68.1042 40.1952 67.3458 41.4274 66.2375 42.4679C65.1292 43.5083 63.8167 44.2202 62.3 44.6036C60.9583 44.9321 58.7854 45.1923 55.7812 45.3839C52.7771 45.5756 49.7292 45.7262 46.6375 45.8357C43.0208 45.9452 39.1417 46 35 46H31.4125C30.3042 46 29.0354 45.9863 27.6063 45.9589C26.1771 45.9315 24.675 45.8905 23.1 45.8357C23.1186 45.7964 23.137 45.757 23.1553 45.7175C20.1346 45.6087 17.1558 45.4605 14.2188 45.2732C11.2146 45.0815 9.04167 44.8214 7.7 44.4928C6.18333 44.1095 4.87083 43.3976 3.7625 42.3571C2.65417 41.3166 1.89583 40.0845 1.4875 38.6607C1.1375 37.4011 0.860417 35.8678 0.65625 34.0607C0.452083 32.2535 0.291667 30.5285 0.175 28.8857C0.0872763 27.4033 0.0325331 25.9055 0.0107704 24.3922C0.00717995 24.3936 0.00358983 24.395 0 24.3964V23C0 20.9738 0.0583362 18.975 0.175003 17.0036C0.29167 15.3607 0.452088 13.6357 0.656255 11.8286C0.860421 10.0214 1.1375 8.4881 1.4875 7.22857C1.89583 5.80476 2.65416 4.57262 3.7625 3.53214C4.87083 2.49167 6.18333 1.77976 7.7 1.39643C9.04167 1.06786 11.2146 0.807738 14.2188 0.616071C17.2229 0.424405 20.2708 0.27381 23.3625 0.164286C26.9792 0.0547619 30.8583 0 35 0C39.1417 0 43.0208 0.0547619 46.6375 0.164286C49.7292 0.27381 52.7771 0.424405 55.7812 0.616071C58.7854 0.807738 60.9583 1.06786 62.3 1.39643C63.8167 1.77976 65.1292 2.49167 66.2375 3.53214C67.3458 4.57262 68.1042 5.80476 68.5125 7.22857C68.8625 8.4881 69.1396 10.0214 69.3438 11.8286C69.5479 13.6357 69.7083 15.3607 69.825 17.0036C69.9417 18.975 70 20.9738 70 23V24.2857C69.9974 24.2846 69.9948 24.2836 69.9922 24.2826Z' fill='%23004B87'/%3E%3Cpath d='M27.9999 32.7475L46.1999 22.8903L27.9999 13.0332V32.7475Z' fill='white'/%3E%3C/svg%3E%0A") no-repeat center center;
                        }
                    }

                    &:hover, &:focus {
                        .cards-callouts-grid-item-image {
                            &::before {opacity: 0;}
                            &::after {opacity: 1;}
                        }
                    }
                }
            }

            .flex-cell {
                align-items: center;
            }

            span.tag {
                background: $spray-blue;
                color: $light;
                display: inline-block;
                text-transform: uppercase;
                font-family: $site-font-secondary;
                font-size: 1.6rem;
                font-weight: 800;
                letter-spacing: .5px;
                line-height: 1;
                padding: 4px 6px;
                margin-bottom: 1.2rem;
                @include media-breakpoint-up(md) {
                    font-size: 1.8rem;
                    line-height: 1;
                    padding: 4px 7px;
                }
                @include media-breakpoint-up(lg) {
                    font-size: 1.7rem;
                }
            }

            &-image {
                display: block;
                position: relative;

                img {
                    width: 100%;
                    max-width: none;
                    height: 38vw;
                    max-height: 200px;
                    border-radius: 4px 4px 0 0;
                    display: block;
                    position: relative;
                    z-index: 1;
                    object-fit: cover;
                    @include user-select;
                    @include user-drag;
                    @include media-breakpoint-down(xsm) {
                        min-height: 150px;
                    }
                    @include media-breakpoint-up(md) {
                        height: 170px;
                        max-height: none;
                        display: block !important;
                    }
                }
            }

            &-copy {
                padding: 16px;
                @include media-breakpoint-up(md) {
                    padding: 25px 24px;
                }

                p {
                    margin: 0;
                    font-size: 18px;
                    line-height: 26px;
                    font-weight: 500;
                    letter-spacing: 0;
                    color: $color-night;
                    @include media-breakpoint-up(md) {
                        font-size: 21px;
                        line-height: 26px;
                    }

                    &::after {
                        @include pseudo;
                        width: 80px;
                        height: 8px;
                        margin-top: 14px;
                        background: #4b9844;
                    }
                }

                &.has-margin-top {
                }
            }

            &-title {
                color: $dark;
                font-size: 2.2rem;
                font-weight: 500;
                letter-spacing: .25px;
                line-height: .905;
                @include media-breakpoint-up(md) {
                    font-size: 2.4rem;
                    line-height: 1;
                }
                @include media-breakpoint-up(xl) {
                    font-size: 2.4rem;
                }
            }

            &-callout-action {
                color: $link-color;
                font-size: 1.8rem;
                font-weight: 800;
                line-height: 1.285;
                @include media-breakpoint-up(md) {
                    font-size: 1.8rem;
                }

                a {
                    color: inherit;
                    font-size: inherit;
                    font-weight: inherit;
                    line-height: inherit;
                    position: relative;
                }

                i {
                    color: inherit;
                    font-size: inherit;
                    line-height: inherit;
                    font-weight: inherit;
                }
            }
        }

        &-item:first-of-type {
            @include media-breakpoint-up(xl) {
                padding-bottom: 0;
            }
        }

        &-item:last-of-type {
            margin-bottom: 0;

            @media #{$medium} {
                border-bottom: none;
            }
        }

        &-item.callout-copy-image {
            @media #{$medium}, #{$large} {
                border-bottom: 2px dotted rgba(63, 96, 116, .2);
            }

            @media #{$medium},#{$large} {
                padding-bottom: 3rem;
            }

            .generic-grid {
                border-bottom: 0;

                &-item {
                    @include media-breakpoint-up(md) {
                        height: 100%;
                        width: 50%;
                    }
                }
            }

            &-item.callout-copy-image:last-of-type {
                padding-bottom: 0;
            }

            .flex-cell-a {
                order: 2;
            }

            .flex-cell-b {
                order: 1;

                img {
                    margin-bottom: 1.6rem;

                    @include media-breakpoint-up(md) {
                        margin-bottom: 0;
                    }
                }
            }

            @include media-breakpoint-up(md) {
                padding-left: 1.5rem;
                padding-right: 0;

                .flex-cell-a {
                    order: 1;
                }

                .flex-cell-b {
                    order: 2;
                }

                .flex-cell:first-of-type {
                    padding-right: 3.5rem;
                }
            }

            @include media-breakpoint-up(lg) {
                border-bottom: 0;
                padding: 0 3.5rem 0 1.5rem;
            }
        }

        &-item.callout-copy-image:last-of-type {
            border-bottom: 2px dotted rgba(63, 96, 116, .2);
            padding-right: 0;

            @media #{ $medium-up } {
                border-bottom: none;
                padding-bottom: 0;
            }
        }

        &-item.half-width + &-item.quarter-width {
            @include media-breakpoint-up(md) {
                padding-left: 1.5rem;
            }

            @include media-breakpoint-up(lg) {
                border-left: 2px dotted rgba(63, 96, 116, .2);
                padding: 0 3.5rem 0 1.5rem;
            }
        }

        &-item.half-width + &-item.half-width {
            @include media-breakpoint-up(lg) {
                border-left: 2px dotted rgba(63, 96, 116, .2);
                padding-left: 1.5rem;
            }
        }

        &-item.quarter-width + &-item.half-width {
            @include media-breakpoint-up(lg) {
                border-left: 2px dotted rgba(63, 96, 116, .2);
                padding-left: 1.5rem;
            }
        }

        &-item.quarter-width:nth-child(3n):not(.callout-with-title-image):not(.callout-alt-1) {
            @include media-breakpoint-up(md) {
                padding-left: 0;
            }

            @include media-breakpoint-up(lg) {
                border-left: 2px dotted rgba(63, 96, 116, .2);
                padding: 0 3.5rem 0 1.5rem;
            }
        }

        &-item.callout-copy-image + .quarter-width + .quarter-width:nth-child(3n):not(.callout-with-title-image):not(.callout-alt-1) {
            @include media-breakpoint-up(md) {
                border-left: 2px dotted rgba(63, 96, 116, .2);
                padding: 0 0 0 1.5rem;
            }
        }

        .callout-alt {
            > a {
                padding-bottom: 0;

                &:after {
                    display: none;
                }

                &:hover,
                &:focus {
                    .callout-alt-wrapper {
                        background-color: #98102e;
                    }
                }
            }

            &.callout-alt-1 {
                > a {
                    padding-bottom: 6px;

                    &:hover,
                    &:focus {
                        text-decoration: none;
                    }
                }
            }

            &.is-in-generic-grid {
                height: 100%;
            }


            &-wrapper {
                background: $spray-red-orange;
                height: 100%;
                padding: 6rem 2rem 6rem;
                text-align: center;
                -webkit-transition: background .5s ease;
                -moz-transition: background .5s ease;
                -o-transition: background .5s ease;
                transition: background .5s ease;

                a:after {
                    display: none;
                }

                h3, p {
                    color: $light;
                }

                h3 {
                    font-size: 2.2rem;

                    @include media-breakpoint-up(md) {
                        font-size: 2.4rem;
                        line-height: 1;
                    }

                    @include media-breakpoint-up(xl) {
                        font-size: 2.4rem;
                    }
                }

                .cards-callouts-grid-item-title {
                    margin-bottom: 3rem;
                    position: relative;

                    &:after {
                        @include position(absolute, null 0 -2rem 50%);
                        background-color: rgba($light, .3);
                        content: '';
                        height: 6px;
                        opacity: 1;
                        transition: all .8s cubic-bezier(0.79, .24, .51, .95);
                        width: 80px;
                        z-index: 1;
                        transform: translateX(-50%);

                        @include media-breakpoint-up(md) {
                            bottom: -2rem;
                            left: 50%;
                            opacity: 1;
                            transform: translateX(-50%);
                        }
                    }
                }

                &.generic-card-wrapper-1 {
                    display: flex;
                    align-items: center;
                    justify-content: center;

                    i {
                        font-size: 6.5rem;
                        margin-bottom: 1rem;
                        color: $light;

                        @include media-breakpoint-up(lg) {
                            font-size: 7rem;
                        }

                        @include media-breakpoint-up(xl) {
                            font-size: 8.2rem;
                        }
                    }

                    .cards-callouts-grid-item-title {
                        margin: 0;

                        &:after {
                            display: none;
                        }
                    }

                    &.card-wrapper-theme-1 {
                        background: #f8a200;
                    }

                    &.card-wrapper-theme-2 {
                        background: #183446;
                    }
                }
            }

            &:hover,
            &:focus {
                &-wrapper {
                    background: #98102e;

                    &.card-wrapper-theme-1 {
                        background: #98102e;
                    }

                    &.card-wrapper-theme-2 {
                        background: #98102e;
                    }
                }
            }

            @include media-breakpoint-up(lg) {
                .generic-grid {
                    &-item {
                        &.quarter-width {
                            width: 25% !important;
                        }

                        &.half-width {
                            width: 50% !important;
                        }
                    }
                }
            }
        }

        .callout-with-title-image {
            .cards-callouts-grid-item-title {
                background: #183446;
                color: $light;
                padding: 15px;
            }
        }
    }
}
